import { Button } from "antd";
import React, { useCallback } from "react";

export const Scripting = () => {
    const handleClick = useCallback(async () => {
        const currentTab = (await chrome.tabs.query({ active: true, currentWindow: true }))[0]
        await chrome.scripting.executeScript({
          target: {
            tabId: currentTab.id,
          },
          func: () => {
            document.body.style.border = "20px solid green";
            document.querySelectorAll('*').forEach((node) => node.style.color='red');
          },
        });
    }, [])

    return <>
        <h4>Your most recent sites</h4>
        <Button onClick={handleClick} type="primary" danger>Uglify everything</Button>
    </>
}